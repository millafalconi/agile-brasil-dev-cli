#!/usr/bin/env bash
# vim: ft=sh

SUBCOMMAND_DESC="Executar os testes da aplicacao transervicos"
SUBCOMMAND_HELP=$(cat <<EOH

all           Executa todos os testes da App, 
              mais analise estatica

style         Executa analise estática de código 
              ruby com Rubocop

EOH
)
SOLUTION_DESC="Respostas da CLI para: ${SUBCOMMAND_DESC}"

function all() {
  docker-compose run web bash -c "rubocop && rspec spec"
}

function style() {
  docker-compose run web bash -c "rubocop"
}

is_help_mode "${@}" && return

case ${1} in
  all)
    all
    ;;
  style)
    style
    ;;
esac